module.exports = {
  apps : [{
    name: 'gemini-bot',       // Имя процесса в PM2
    script: 'index.js',         // Имя вашего файла с кодом бота
    instances: 1,             // Запускать один экземпляр
    autorestart: true,        // Автоматически перезапускать при падении (exit code != 0)
    watch: false,             // Не перезапускать при изменении файлов (можно включить для разработки: true)
    max_memory_restart: '512M', // Перезапуск, если процесс съест > 512MB RAM
    // Настройки для предотвращения слишком частых перезапусков:
    max_restarts: 5,          // Макс. кол-во перезапусков в короткий промежуток времени
    min_uptime: '60s',        // Считать запуск стабильным, если проработал 60 секунд
    restart_delay: 5000,      // Задержка 5 секунд перед попыткой перезапуска
    // Логирование (опционально)
    // output: './logs/out.log',
    // error: './logs/error.log',
    // log_date_format: 'YYYY-MM-DD HH:mm:ss Z'
  }]
};